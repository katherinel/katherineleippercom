@import 'colors';

$splash_size: 3em;
$blurb_size: 2em;

.splash {
	overflow: hidden;
	&#dev_design {
		background: image_url("dev_design_splash_bkgd.png") no-repeat center;
	}
	&#edu {
		background: image_url("edu_splash_bkgd.png") no-repeat left;
		.left_side {
			width: 100%;
			&:before {
				border-top: 580px solid $purple;
			}
			&:after {
				content: " ";
				width: 0px;
		    height: 0px;
		    position: absolute;
		    bottom: 0;
		    right: 0;
				border-left: $splash_size solid transparent;
				border-bottom: $splash_size solid $white;
			}
		}
		.blurb {
			width: 30%;
			left: 60%;
			top: 50%;
			bottom: inherit;
			right: inherit;
		}
	}
	.left_side, .right_side {
		float: left;
		width: 50%;
		height: 580px;
		position: relative;
		h2 {
			text-transform: uppercase;
		}
	}
	.left_side {
		&:before {
			content: " ";
			width: 0px;
	    height: 0px;
	    position: absolute;
	    top: 0;
	    left: 0;
			border-right: 580px solid transparent;
			border-top: 580px solid $burnt-orange;
		}
		.splash_section_header {
			&:before {
				content: " ";
				width: 0px;
		    height: 0px;
		    position: absolute;
		    top: -1px; /* because it leaves a line at the top otherwise */
		    left: -$splash_size;
				border-left: $splash_size solid transparent;
				border-top: $splash_size solid $white;
			}
			h2 {
				padding-top: $splash_size/8;
				padding-left: $splash_size/6;
			}
		}
	}
	.right_side {
		&:before {
			content: " ";
			width: 0px;
			height: 0px;
			position: absolute;
			bottom: 0;
			right: 0;
			border-left: 580px solid transparent;
			border-bottom: 580px solid $teal;
		}
		.splash_section_header {
			position: absolute;
			right: $splash_size/2;
			bottom: 0;
			&:after {
				content: " ";
				width: 0px;
		    height: 0px;
		    position: absolute;
		    bottom: 0;
		    right: -$splash_size;
				border-right: $splash_size solid transparent;
				border-bottom: $splash_size solid $white;
			}
			h2 {
				text-align: right;
				position: absolute;
				top: -$splash_size/8;
				right: $splash_size/6;
			}
		}
	}
	.splash_section_header {
		background-color: $dark-gray;
		height: $splash_size;
		width: 532px;
		margin-left: $splash_size/2;
		transform: skew(-45deg);
		-webkit-transform: skew(-45deg);
		-moz-transform: skew(-45deg);
		-o-transform: skew(-45deg);
		h2 {
			transform: skew(45deg);
			-webkit-transform: skew(45deg);
	   	-moz-transform: skew(45deg);
	    -o-transform: skew(45deg);
			font-size: 5.7em;
			font-family: "ConduitITCLight", Arial, Helvetica, sans-serif;
			letter-spacing: 0.05em;
			color: $white;
			opacity: 0.5;
			line-height: 0.8em;
			width: $splash_size * 3;
		}
	}
	.blurb {
		width: 70%;
    min-width: 150px;
    position: absolute;
    padding: 0 $blurb_size;
    background: rgba(255, 255, 255, .7);
    p {
    	font-size: 1.5em;
    	font-family: "ConduitITCLightItalic", Arial, Helvetica, sans-serif;
    	line-height: 1.4em;
    	margin-bottom: 0.5em;
    }
    .continue {
    	font-size: 1.25em;
    	font-family: "ConduitITCBold";
    	float: right;
    }
    .edge {
    	position: absolute;
    	background: rgba(255, 255, 255, .7);
    	height: $blurb_size;
    	width: -moz-calc(100% - #{$blurb_size});
    	width: -webkit-calc(100% - #{$blurb_size});
    	width: calc(100% - #{$blurb_size});
    	&.top {
    		right: 0;
    		top: -$blurb_size;
    		&:before {
    			content: " ";
					width: 0px;
			    height: 0px;
			    position: absolute;
			    top: 0;
			    left: -$blurb_size;
					border-left: $blurb_size solid transparent;
					border-bottom: $blurb_size solid rgba(255, 255, 255, .7);
    		}
    	}
    	&.bottom {
	    	left: 0;
	    	bottom: -$blurb_size;
	    	&:after {
	    		content: " ";
					width: 0px;
			    height: 0px;
			    position: absolute;
			    top: 0;
			    right: -$blurb_size;
					border-right: $blurb_size solid transparent;
					border-top: $blurb_size solid rgba(255, 255, 255, .7);
	    	}
	    }
	  }
	}
	.left_side .blurb {
		right: 20px;
    bottom: calc(50% - 20px);
	}
	.right_side .blurb {
		left: 0;
		top: 50%;
	}
}

#featured_projects {
	min-width: 750px;
	margin: 55px 0 40px 0;
	h3.featured {
		font-size: 1.125em;
		text-transform: uppercase;
		.projects_link {
			margin-left: 1em;
			text-transform: none;
		}
	}
}

.proj_box {
	width: 33%;
	max-width: 300px;
	margin: 1.5%;
	float: left;
	overflow: hidden;
	height: 200px;
	position: relative;
	&:before {
		content: " ";
		width: 0px;
    height: 0px;
    position: absolute;
    top: 0;
    left: 0;
		border-right: 7em solid transparent;
		border-top: 7em solid rgba(255, 255, 255, 0.6);
	}
	&:after {
		content: " ";
		width: 0px;
    height: 0px;
    position: absolute;
    bottom: 0;
    right: -1em;
		border-left: $splash_size solid transparent;
		border-bottom: $splash_size solid $white;
	}
	.proj_image {
		position: relative;
		z-index: -2;
	}
	.proj_years {
		position: absolute;
		right: 0;
		bottom: 0;
		padding: 3em 1em;
		&:before {
			content: " ";
			width: 0px;
	    height: 0px;
	    position: absolute;
	    bottom: 0;
	    right: 0;
			border-left: 10em solid transparent;
			border-bottom: 10em solid $light-gray;
			z-index: -1;
		}
		p.year {
		}
	}
	.proj_title {
		position: absolute;
		bottom: 0;
		left: 0;
		background-color: $dark-gray;
		transform: skew(-45deg);
		-webkit-transform: skew(-45deg);
		-moz-transform: skew(-45deg);
		-o-transform: skew(-45deg);
		width: 85%;
		h3 {
			text-transform: uppercase;
			padding: 0.5em 1em 1em 1.5em;
			margin: 0;
			transform: skew(45deg);
			-webkit-transform: skew(45deg);
			-moz-transform: skew(45deg);
			-o-transform: skew(45deg);
			a {
				color: $white;
				&:link, &:visited {
					color: $white;
				}
				&:hover {
					border-bottom: 2px solid $white;
				}
			}
		} 
	}
}
#project_page {
	section.info {
		margin-top: $splash_size;
		background-color: $light-gray;
		display: inline-block;
		width: 100%;

		.left_side, .right_side {
			float: left;
			margin-top: -$splash_size;
		}
		.left_side {
			width: 60%;
			figure.cover_image {
				overflow: hidden;
				img {
					margin-left: -moz-calc(50% - 500px);
    			margin-left: -webkit-calc(50% - 500px);
    			margin-left: calc(50% - 500px);
					display: block;
				}
			}
			.caption_outer {
				position: absolute;
				left: 40%;
				bottom: 0px;
				margin-left: 10%;
				.caption_corner {
					height: 0;
					width: 50%;
					min-width: 400px;
					&.top {
						border-bottom: $splash_size solid rgba(255, 255, 255, 0.7);
						border-left: $splash_size solid transparent;
					}
					&.bottom {
						border-top: $splash_size solid rgba(255, 255, 255, 0.7);
						border-right: $splash_size solid transparent;
					}
				}
				.caption_container {
					background-color: rgba(255, 255, 255, 0.7);
					padding: 0 $splash_size/2;
					width: 50%;
					min-width: 400px;
					figcaption {
						font-size: 1.5em;
						font-family: "ConduitITCMediumItalic", Arial, Helvetica, sans-serif;
						line-height: 1.2em;
					}
				}
			}
		}
		.right_side {
			width: 40%;
			border-top: $splash_size solid $light-gray;
			dl {
				padding: 0 $splash_size $splash_size $splash_size;
				font-family: "ConduitITCBold", Arial, Helvetica, sans-serif;
				font-size: 1.2em;
				dt {
					color: $med-gray;
				}
				dd {
					color: $dark-gray;
					margin-bottom: 1em;
				}
			}
		}
	}
	section.details {
		.left_side, .right_side {
			float: left;
			width: 50%;
			padding-top: 3em;
			padding-bottom: 3em;
		}
		.left_side {
			figure.detail_image {
				margin-bottom: 1em;
				img {
					width: 100%;
				}
			}
		}
		.right_side {
			p.long_description {
				font-size: 1.2em;
				line-height: 1.2em;
				padding-left: 1em;
			}	
		}
	}
	.page_title {
		height: $splash_size;
		width: 100%;
		margin-left: $splash_size/2;
		transform: skew(-45deg);
		-webkit-transform: skew(-45deg);
		-moz-transform: skew(-45deg);
		-o-transform: skew(-45deg);
		h2 {
			color: $white;
			text-transform: uppercase;
			font-size: 2em;
			padding: .3em .8em;
			transform: skew(45deg);
			-webkit-transform: skew(45deg);
			-moz-transform: skew(45deg);
			-o-transform: skew(45deg);
		}
	}
}

.delete_link {
	background-color: red;
	padding: 4px;
	margin-left: 20px;
	a {
		color: white;
	}
}

@media screen and (max-device-width: 750px) {
	.splash {
		&#dev_design {
			background: none;
			.left_side, .right_side {
				background-image: url(/assets/dev_design_splash_bkgd-9988bb67726a46baa5eeb69eea5c32f75a9f740a23797a70340382a0a0a52525.png);
				background-repeat: no-repeat;				
			}
		}
		&#edu .blurb {
			top: 35%;
			bottom: inherit;
			left: 5%;
			right: 5%;
			width: 70%;
		}
		.splash_section_header {
			width: 100vw;
			h2 {
				max-width: 90vw;
			}
		}
		.left_side, .right_side {
			float: none;
			width: 100vw;
			height: calc(100vw + 3em);
			.splash_section_header h2 {
				padding-top: 0.75em;
				font-size: 14vw;
			}
			.blurb {
				left: 5%;
				right: 5%;
				p {
					font-size: 6vw;
				}
				.continue {
					font-size: 5vw;
				}
			}
		}
		.left_side {
			background-position: left bottom;
			&:before {
				border-right-width: 100vw;
				border-top-width: 100vw;
				top: 3em;
			}
			.blurb {
				top: 35%;
				bottom: inherit;
			} 
		}
		.right_side { 
			background-position: right top;
			&:before {
				border-left-width: 100vw;
				border-bottom-width: 100vw;
				bottom: 3em;
			}
			.splash_section_header h2 {
				padding-top: 0;
			}
			.blurb {
				bottom: 35%;
				top: inherit;
			}
		}
	}
	.proj_box {
		float: none;
		width: 100%;
	}
}